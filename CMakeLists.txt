CMAKE_MINIMUM_REQUIRED(VERSION 2.6.4 FATAL_ERROR)
PROJECT(cg3 CXX)

# Release or Debug
SET(CMAKE_BUILD_TYPE "Release")
#SET(CMAKE_VERBOSE_MAKEFILE 1)
SET(CMAKE_MODULE_PATH "${CMAKE_CURRENT_SOURCE_DIR}/CMake" ${CMAKE_MODULE_PATH})

if(MSVC)
	SET(CMAKE_CXX_FLAGS "/W4 /GR-")
	SET(CMAKE_CXX_FLAGS_RELEASE "/MT /Ox /Ot /GL /GS-")
	SET(CMAKE_EXE_LINKER_FLAGS_RELEASE "/LTCG")
else(MSVC)
	SET(CMAKE_CXX_FLAGS "-Wall -Wextra -Wno-deprecated -ansi")
	SET(CMAKE_CXX_FLAGS_DEBUG "-O0 -g3")
	SET(CMAKE_CXX_FLAGS_RELEASE "-O3")
endif(MSVC)

#include("${CMAKE_CURRENT_SOURCE_DIR}/CMake/HPHPFunctions.cmake")
#include(CheckFunctionExists)

add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/src)
